<!DOCTYPE html>
<html>
	<head>
		<meta charset="UTF-8">
		<style>
			.square {
				width: 100px;
				height: 100px;
				border: 1px dashed black;
				display: inline-block;
				margin: 20px;
			}

			.enabled {
				background-color: limegreen;
				border: 1px solid black;
			}
		</style>
	</head>
	<body>
		<section class="row1">
			<div class="square"></div>
			<div class="square"></div>
			<div class="square"></div>
			<div class="square"></div>
		</section>

		<section class="row2">
			<div class="square"></div>
			<div class="square"></div>
			<div class="square"></div>
			<div class="square"></div>
		</section>

		<script>
			// console.log(document);
			// console.log(document.querySelector("#square"));
			// console.log(document.getElementById("square"));
			// console.log(document.querySelector("#square").classList);

			var row1Squares = document.querySelectorAll('.row1 .square');

			for(var i = 0; i < row1Squares.length; i++) {
				var node = row1Squares[i];
				/* TODO: node 변수를 어떻게 조작해야 할까요? */

				/* this 써서 짜기 */

				// node.addEventListener('click', function(){
				// 	if(window.getComputedStyle(this).getPropertyValue("background-color") === "rgb(255, 255, 0)"){
				// 		this.setAttribute("style", "background-color:rgba(0, 0, 0, 0)");
				// 	}else{
				// 		this.setAttribute("style", "background-color:rgb(255, 255, 0)");
				// 	}
				// });

				/* this 없이 짜기 */

				// var eventCreator = function(node){
				// 	var currentNode = node;

				// 	function decideColor(currentColor){
				// 		if(currentColor === "rgb(255, 255, 0)"){
				// 			return "rgba(0, 0, 0, 0)";
				// 		}else if(currentColor === "rgba(0, 0, 0, 0)"){
				// 			return "rgb(255, 255, 0)";
				// 		}
				// 	}

				// 	function setColor(color){
				// 		currentNode.setAttribute("style", "background-color:"+color);
				// 	}

				// 	currentNode.addEventListener('click', function(){
				// 		var currentColor = window.getComputedStyle(currentNode).getPropertyValue("background-color");
				// 		setColor(decideColor(currentColor));
				// 	});
				// };

				// eventCreator(node);

				/* 따로 안빼고도 this 없이 짧게 짜기 */
				(function(node){
					node.addEventListener('click', function(){
						if(window.getComputedStyle(node).getPropertyValue("background-color") === "rgb(255, 255, 0)"){
							node.setAttribute("style", "background-color:rgba(0, 0, 0, 0)");
						}else{
							node.setAttribute("style", "background-color:rgb(255, 255, 0)");
						}
					});
				})(node);
			}

			var row2Squares = document.querySelectorAll('.row2 .square');

			for(var i = 0; i < row2Squares.length; i++) {
				var node = row2Squares[i];
				/* TODO: node 변수를 어떻게 조작해야 할까요? */

				/* this 써서 짜기 */

				// node.addEventListener('click', function(){
				// 	if(this.classList.contains("enabled")){
				// 		this.classList.remove("enabled");
				// 	}else{
				// 		this.classList.add("enabled");
				// 	}
				// });

				/* this 없이 짜기 */

				// var eventCreator = function(node){
				// 	var currentNode = node;

				// 	currentNode.addEventListener('click', function(){
				// 		var currentClassList = currentNode.classList;
				// 		if(currentClassList.contains("enabled")){
				// 			currentClassList.remove("enabled");
				// 		}else {
				// 			currentClassList.add("enabled");
				// 		}
				// 	})
				// }

				// eventCreator(node);

				/* 따로 안빼고도 this 없이 짧게 짜기 */
				(function(node){
					node.addEventListener('click', function(){
						node.classList.toggle("enabled");
						// if(this.classList.contains("enabled")){
						// 	this.classList.remove("enabled");
						// }else{
						// 	this.classList.add("enabled");
						// }
					});
				})(node);

			}
		</script>
	</body>
</html>
