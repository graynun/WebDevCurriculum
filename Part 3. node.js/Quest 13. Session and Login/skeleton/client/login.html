<!DOCTYPE html>
<html>
	<head>
		<meta charset="utf-8">
		
	</head>
	<body>
		Enter your ID and password
		<div>
		<input class="id" type="text" placeholder="ID">
		<input class="pw" type="text" placeholder="Password">
		</div>

		<button class="login">click to login</button>

		<script type="text/javascript">
			document.querySelector('.login').addEventListener('click', function(){
				console.log("login button clicked");
				console.log("id is "+document.querySelector(".id").value);
				console.log("pw is "+document.querySelector(".pw").value);
				var req = new XMLHttpRequest();

				req.onreadystatechange = function(){
					if(req.readyState === XMLHttpRequest.DONE){ 

						if(req.status === 200){
							console.log(req.responseURL);
							window.location.replace(req.responseURL);
						}else{
							alert(req.response);
							console.log("req status is not 200");
						}
					}
				};

				var id = document.querySelector(".id").value,
					pw = document.querySelector(".pw").value;

				document.cookie = "id="+id;
				document.cookie = "pw="+pw;

				var url = "http://localhost:8080/loginClicked";
				
				req.open('GET', url);
				req.send();
			})
		</script>
	</body>
</html>