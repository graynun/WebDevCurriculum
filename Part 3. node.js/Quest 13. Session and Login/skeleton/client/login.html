<!DOCTYPE html>
<html>
	<head>
		<meta charset="utf-8">
		
	</head>
	<body>
		Enter your id and password
		<div>
		<input class="id" type="text" placeholder="ID">
		<input class="pw" type="text" placeholder="Password">
		</div>
		<!-- <div class="pw">password <input type="password"></div> -->

		<button class="login">click to login</button>

		<script type="text/javascript">
			document.querySelector('.login').addEventListener('click', function(){
				console.log("login button clicked");
				console.log("id is "+document.querySelector(".id").value);
				console.log("pw is "+document.querySelector(".pw").value);
				var req = new XMLHttpRequest();

				req.onreadystatechange = function(){
					if(req.readyState === XMLHttpRequest.DONE){ 
						if(req.status === 200){
							console.log(req.responseURL);
							window.location.href = req.responseURL;
						}else{
							console.log("req status is not 200");
						}
					}
				};

				var id = document.querySelector(".id").value,
					pw = document.querySelector(".pw").value;

				var url = "http://localhost:8080/loginClicked?id="+id+"&pw="+pw;
				console.log(url);

				req.open('GET', url);
				req.send();
			})
		</script>
	</body>
</html>