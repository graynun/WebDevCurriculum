<!DOCTYPE html>
<html>
<head>
	<meta charset="utf-8">
	<title>infinite scroll test </title>
	<style type="text/css">
		section{
			width: 800px;
			height: 500px;
			border: 1px solid black;
			overflow-y: scroll;
		}

		div {
			box-sizing: border-box;
			border: 1px solid blue;
			width: 100%;
			height: 40px;
			text-align: center;
		}
	</style>
</head>
<body>

	<section>
		<div class="scrollHeader">click to load more </div>
		<img src="https://upload.wikimedia.org/wikipedia/en/a/a9/Moomin_kuva.JPG" />
		<img src="https://upload.wikimedia.org/wikipedia/en/a/a9/Moomin_kuva.JPG" />
	</section>


	<script type="text/javascript">
		window.onload = ()=>{
			document.querySelector('section').scrollTop = 40;
			document.querySelector('div').addEventListener('click', ()=>{
				let img = document.createElement('img');
				img.src = "http://www.themoominshop.com/wp-content/uploads/2012/10/Character-Page1.jpg";
				document.querySelector('section').insertBefore(img, document.querySelector('img'));
				document.querySelector('section').scrollTop = 448;
			})
		}


		let scrollDetecter = ()=>{
			document.querySelector('section').addEventListener('scroll', (e)=>{
				// console.log("detects it?");
				// console.log(e);
				if(e.target.scrollTop < 1){
					let img = document.createElement('img');
					img.src = "http://www.themoominshop.com/wp-content/uploads/2012/10/Character-Page1.jpg";
					console.log(img.style.height);
					document.querySelector('section').insertBefore(img, document.querySelector('img'));
					e.target.scrollTop = 448;
				}
			});
		}

		

		
	</script>
</body>
</html>